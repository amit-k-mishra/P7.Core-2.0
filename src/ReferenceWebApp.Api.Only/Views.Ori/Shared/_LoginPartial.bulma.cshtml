@using System.Security.Claims
@using Microsoft.AspNetCore.Identity
@using ReferenceWebApp.Models

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@if (SignInManager.IsSignedIn(User))
{
    <form asp-area="" asp-controller="Account" asp-action="Logout" method="post" id="logoutForm" class="navbar-right">
        <div class="navbar-end">
            <div class="navbar-item">
                <div class="field is-grouped">
                    <p class="control">
                        <a asp-area="" asp-controller="Manage" asp-action="Index" title="Manage">Hello @User.Claims.First(i => i.Type == "custom-name").Value!</a>
                    </p>
                    <p class="control">
                        <button type="submit" class="button is-primary">Log out</button>
                    </p>
                </div>
            </div>
        </div>
    </form>
}
else
{
    <div class="navbar-end">
        <div class="navbar-item">
            <div class="field is-grouped">
                <p class="control">
                    <a class="button is-primary" asp-area="" asp-controller="Account" asp-action="Login">Log in</a>
                </p>
            </div>
        </div>
    </div>

}


 